---
title: '[SQLD 자격증 공부] Chaper3 - 관계형 데이터베이스 개요 (WEEK 3)'
date: '2025-09-21'
tags: ['sqld', 'database', 'license']
draft: false
summary: SQLD 3주차 공부 내용을 정리.
---

import ImageWithCaption from '@/components/mdxComponents/ImageWithCaption'
import InternalLink from '@/components/mdxComponents/InternalLink'

### 1. 데이터베이스

1.  **데이터베이스**
    - **데이터** : 컴퓨터로 어떤 일을 처리할 때 그 처리 대상이 되는 것
    - **데이터베이스**
      - 데이터를 일정한 체계에 따라 통합하여 디스크나 메모리에 저장한 것
      - 데이터베이스의 이점 : 독립성, 중복저장의 최소화, 통합 처리, 자체적 관리
      - 데이터베이스를 구축하고 관리할 수 있는 기능을 제공하는 시스템 소프트웨어를 DBMS(DataBase Management System)이라 부른다

2.  **관계형 데이터베이스**
    - RDB라고 불리며, 행과 열의 테이블 형태를 띄며, 테이블 간의 관계를 통해 데이터를 연결, 관리하는 데이터베이스이다.
    - SQL(Structured Query Languege)이라는 공통의 질의언어를 사용하여 에이터의 검색, 삽입, 수정, 삭제등을 쉽게 수행한다.

3.  **테이블**
    - 관계형 데이터베이스에서 사용하는 데이터 모델을 2차원 구조의 행과 열로 표현한 매트릭스 형태.
    - 엔터티는 논리적 모델링에서 사용하는 용어이고, 물리적 모델링에서는 이를 테이블이라고 부름. (릴레이션이라고 부르기도 함)

       <ImageWithCaption

           src="/static/images/table-RDB.png"
           alt="Entity Diagram"
           caption="테이블 관점 용어설명"

      />

       <ImageWithCaption

           src="/static/images/table-entity.png"
           alt="Entity Diagram"
           caption="엔터티 관점 용어 설명"

      />

4.  **SQL**

- Structured Query Languege의 약자로, 구조화된 질의 언어이다.
- 데이터베이스에 정해진 문법으로 명령을 주고 그에 대한 결과를 얻기 위한 명령어
- 데이터베이스를 제어하고 안의 데이터를 조작할 수 있는 언어수단

        <br/>
      1. DDL(Data Definition Languege, 데이터 정의 언어)
         - 데이터의 구조, 즉 <InternalLink link="schema" name="스키마"/>를 정의하는 명령어이다.
         - ERD(Entity Relationship Diagram)으로 그려진 데이터 모델은 DDL로 상호 변환이 가능하다.
         - | 명령어   | 설명                                             |
           | -------- | ------------------------------------------------ |
           | CREATE   | 테이블, 뷰, 인덱스를 생성                        |
           | ALTER    | 기존 객체 구조 변경(칼럼 추가 및 자료형 변경 등) |
           | DROP     | 객체 삭제                                        |
           | TRUNCATE | 테이블의 데이터 전체 삭제(구조 유지)             |
         - ```sql
              -- 테이블 생성
              CREATE TABLE EMPLOYEE (
              EMP_ID INT PRIMARY KEY,
              NAME VARCHAR(50),
              DEPT_ID INT,
              SALARY DECIMAL(10,2)
              );

              -- 컬럼 추가
              ALTER TABLE EMPLOYEE ADD HIRE_DATE DATE;

              -- 테이블 삭제
              DROP TABLE EMPLOYEE;

              -- 데이터만 비우기 (테이블 구조 유지)
              TRUNCATE TABLE EMPLOYEE;
           ```

      2. DML(Data Manipulation Languege, 데이터 조작 언어)
         - 테이블에 데이터를 조회, 입력, 수정, 삭제하는 명령어이다.
         - Commit전에 롤백이 가능하다.
         - | 명령어 | 설명        |
           | ------ | ----------- |
           | SELECT | 데이터 조회 |
           | INSERT | 데이터 삽입 |
           | UPDATE | 데이터 수정 |
           | DELETE | 데이터 삭제 |
         - ```sql
              -- 데이터 삽입
              INSERT INTO EMPLOYEE (EMP_ID, NAME, DEPT_ID, SALARY)
              VALUES (1, 'Jo Mingu', 101, 5000);

              -- 데이터 조회
              SELECT * FROM EMPLOYEE WHERE DEPT_ID = 101;

              -- 데이터 수정
              UPDATE EMPLOYEE
              SET SALARY = SALARY * 1.1
              WHERE DEPT_ID = 101;

              -- 데이터 삭제
              DELETE FROM EMPLOYEE WHERE EMP_ID = 1;
           ```

      3. DCL(Data Control Languege, 데이터 제어 언어)
         - 사용자 접근권한과 같이 보안과 제어를 다루는 명령어이다.
         - | 명령어 | 설명                 |
           | ------ | -------------------- |
           | GRANT  | 사용자에게 권한 부여 |
           | REVOKE | 권한회수             |
         - ```sql
              -- 사용자에게 SELECT, INSERT 권한 부여
              GRANT SELECT, INSERT ON EMPLOYEE TO HR_USER;

              -- 권한 회수
              REVOKE INSERT ON EMPLOYEE FROM HR_USER;
           ```

      4. TCL(Transaction Control Languege, 트랜젝션 제어 언어)
         - <InternalLink link="transaction" name="트랜젝션"/>에 대한 제어를 다루는 명령어이다., DCL의 일부로 보기도 한다.
         - | 명령어    | 설명                    |
           | --------- | ----------------------- |
           | COMMIT    | 변경 내용 확정(저장)    |
           | ROLLBACK  | 이전 상태로 복구(최소)  |
           | SAVEPOINT | 트랜잭션 중간 지점 설정 |
         - ```sql
              -- 데이터 삽입
              INSERT INTO EMPLOYEE VALUES (2, 'Minji', 102, 4000);

              -- 저장 지점 설정
              SAVEPOINT point1;

              UPDATE EMPLOYEE SET SALARY = 3500 WHERE EMP_ID = 2;

              -- 롤백 (point1 이후의 변경 취소)
              ROLLBACK TO point1;

              -- 최종 확정
              COMMIT;
           ```

          - **DELETE VS TRUNCATE VS DROP (데이터 삭제 명령어의 차이점)**
            - | 구분            | DELETE                            | TRUNCATE              | DROP                 |
              |---------------|-----------------------------------|-----------------------|----------------------|
              | **언어 종류**         | DML (데이터 조작어)                     | DDL (데이터 정의어)         | DDL (데이터 정의어)        |
              | **삭제 대상**         | 테이블의 데이터(행)                       | 테이블의 모든 데이터(행)        | 테이블 자체 (데이터 + 구조 모두) |
              | **스키마(구조)**       | 유지됨                               | 유지됨                   | 삭제됨                  |
              | **ROLLBACK (복구)** | 가능 (트랜잭션 로그 남김)                   | 불가능                   | 불가능                  |
              | **저장공간 릴리즈**      | X (즉시 해제 안됨)                      | O (즉시 해제됨)            | O (완전 해제)            |
              | **WHERE 절 사용**    | 가능                                | 불가능                   | 불가능                  |
              | **트랜잭션 로그**       | 각 행마다 기록                          | 최소 기록                 | 없음                   |
              | **속도**            | 느림                                | 빠름                    | 매우 빠름                |
              | **사용 예시**         | DELETE FROM table WHERE age > 30; | TRUNCATE TABLE table; | DROP TABLE table;    |
              | **주요 특징 요약**      | 데이터만 삭제 + 되돌리기 가능                 | 모든 데이터 삭제 + 되돌리기 불가   | 테이블 자체 삭제 + 되돌리기 불가  |

### 2. SELECT 문

1.  **SELECT**
    - 데이터를 조회하는 명령어. WHERE절을 통해 특정 조건의 열만 조회할 수 있다.
    - 테이블의 대한 별명(Alias)도 부여 할 수 있다.
    - | SELECT 칼럼1 FROM TABLE1                                                                                                                |
      | --------------------------------------------------------------------------------------------------------------------------------------- |
      | 테이블 1로부터 칼럼 1을 조회한다. 칼럼이 유일할 때는 칼럼명만 붙혀도 되나, 여러 테이블에서 조회할때는 테이블명.칼럼명으로 작성해야한다. |
      |                                                                                                                                         |
    - | SELECT A.칼럼1, B.칼럼2 FROM TABLE1 A, TABLE2 B WHERE A.칼럼1 = B.칼럼1                                       |
      | ------------------------------------------------------------------------------------------------------------- |
      | 이처럼 WHERE절을 통해 조건을 추가할 수 있다. A.칼럼1 = B.칼럼1인 칼럼들만 모아서 A.칼럼1, B.칼럼2를 조회한다. |
      |
    - | SELECT 칼럼1 AS ID FROM TABLE1                                                               |
      | -------------------------------------------------------------------------------------------- |
      | AS절을 활용하면 칼럼1이라는 이름을 ID값이라는 별명을 부여해서 사용가능하다. (AS는 생갹 가능) |
      |                                                                                              |
    - WHERE와 JOIN의 차이 완벽 정리
      - `WHERE절`과 `JOIN절`의 결과가 같게 나오는 경우가 있다.
      - ```sql
        -- (1) WHERE 방식
        SELECT A.ID, B.NAME
        FROM TABLE1 A, TABLE2 B
        WHERE A.ID = B.ID;

        -- (2) JOIN 방식
        SELECT A.ID, B.NAME
        FROM TABLE1 A
        JOIN TABLE2 B ON A.ID = B.ID;
        ```

      - 둘의 결과는 같지만 내용은 다르다.
        - WHERE 방식 (구식 문법)
          - 이건 SQL-89 (Old SQL) 스타일로, 두 테이블을 카티전 곱(Cartesian Product - 모든 경우의 수를 구하는 것) 으로 합친 뒤 WHERE 절에서 조건으로 필터링하는 방식이다.
          - TABLE1 × TABLE2 → 모든 조합을 만든다. >> WHERE A.ID = B.ID → 그 중 조건을 만족하는 행만 남긴다.
        - JOIN 방식 (현대 문법)
          - 이건 ANSI SQL-92 표준 문법이다. JOIN 조건을 명시적으로 써서 테이블을 결합한다.
          - 이 방식은 가독성이 높고, LEFT JOIN, RIGHT JOIN, FULL JOIN 같은 외부 조인(OUTER JOIN) 도 지원한다. - 나중에 조인문에서 좀더 볼 예정

2.  **산술 연산자**
    - 더하기, 곱하기와 같은 산술적인 연산을 수행하는 연산자
    - NULL의 산술 연산 결과는 항상 NULL이다.
    - | 연산자 | 설명                           | 우선순위 |
      | ------ | ------------------------------ | -------- |
      | **()** | 괄호 (가장 먼저 계산)          | 1        |
      | **\*** | 곱셈(Multiplication)           | 2        |
      | **/**  | 나눗셈(Division, 실수 결과)    | 2        |
      | **%**  | 나머지(Modulus, 나눈 나머지값) | 2        |
      | **+**  | 덧셈(Addition)                 | 3        |
      | **-**  | 뺄셈(Subtraction)              | 3        |
    - Oracle에서는 나머지 연산자가 MOD함수로 사용된다.
    - | SELECT C1, C2, C1+C2 AS C3, (C1+C2)/2 C4 FROM TABLE1                          |
      | ----------------------------------------------------------------------------- |
      | 테이블 1에서 C1, C2항목 대한 연산을 진행한뒤 각각 C3, C4로 명칭을 붙혀서 조회 |
      |                                                                               |

3.  **합성 연산자**
    - || 문자열은 연결할 때 사용하는 연산자다.
    - 문자열값 또는 문자열형의 칼럼에 대해 사용 가능하다.
    - | SELECT C1 \|\| '' \|\| C2 AS C3 FROM TABLE1                                      |
      | -------------------------------------------------------------------------------- |
      | 테이블1에서 C1, C2칼럼을 가운데에 공백을 넣고 합성하여 C3라는 명칭을 붙혀서 조회 |
      |                                                                                  |
